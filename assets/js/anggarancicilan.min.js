var globalResult;if(getDataLocal('load-1')){globalResult=getDataLocal('load-1')}
var div_nominal=$('#ang-harga');var div_tanggal=$('#ang-targetwaktu');var div_perhitunganType=$('#ang-perhitunganType');var div_tenor=$('#ang-tenor');var div_dp=$('#ang-dp');var div_bunga=$('#ang-bunga');var div_wilayah=$('#ang-wilayah');var div_barubekas=$('#ang-barubekas');var div_asuransi=$('#ang-asuransi');var div_investasi=$('#ang-jenisinvestasi');var div_rkdn_metode=$('#ang-reksadana_metode');var div_rkdn_risiko=$('#ang-reksadana_risiko');var div_customNominal=$('#ang-customNominal');const optInputs={harga:{elem:div_nominal,name:'#ang-harga'},tanggal:{elem:div_tanggal,name:'#ang-targetwaktu'},perhitunganType:{elem:div_perhitunganType,name:'#ang-perhitunganType'},tenor:{elem:div_tenor,name:'#ang-tenor'},bunga:{elem:div_bunga,name:'#ang-bunga'},dp:{elem:div_dp,name:'#ang-dp'},wilayah:{elem:div_wilayah,name:'#ang-wilayah'},barubekas:{elem:div_barubekas,name:'#ang-barubekas'},asuransi:{elem:div_asuransi,name:'#ang-asuransi'},investasi:{elem:div_investasi,name:'#ang-jenisinvestasi'},rkdn_metode:{elem:div_rkdn_metode,name:'#ang-reksadana_metode'},rkdn_risiko:{elem:div_rkdn_risiko,name:'#ang-reksadana_risiko'},customNominal:{elem:div_customNominal,name:'#ang-customNominal'},}
function showResult(tujuan){$('#table-ang-result thead').html('');$('#table-ang-result tbody').html('');$('#result-text-1').html('')
$('#result-text-2').html('')
if(!globalResult){$('#ang-info').removeClass('d-none').find('p').html('Mohon Maaf, Tampaknya Anda Belum Ada Data Keuangan yang Dimasukkan.');return}else{$('#ang-info').addClass('d-none').find('p').html('')}
if((tujuan=='1'&&drawTableLiburan()!=!1)||(tujuan=='2'&&drawTableRumah()!=!1)||(tujuan=='3'&&drawTableKendaraan()!=!1!=!1)||(tujuan=='4'&&drawTableElektronik()!=!1)||(tujuan=='5'&&drawTableInvestasi()!=!1)){}else{return}
autoScrollDown('#div-result')}
function drawTableLiburan(){const perkiraanBiaya=toNumber(div_nominal.val());const targetWaktu=getMonthDiff(div_tanggal.val());if(!perkiraanBiaya||perkiraanBiaya==0){$(optInputs.harga.name+'-err').html('Silahkan masukan nominal data terlebih dahulu').removeClass('d-none')}
if(!targetWaktu){$(optInputs.tanggal.name+'-err').html('Tanggal tidak boleh sama dengan tanggal ini atau sebelumnya').removeClass('d-none')}
if(!perkiraanBiaya||!targetWaktu)return!1;const danadibutuhkan=perkiraanBiaya/targetWaktu;const leftover=globalResult.calc.leftover;const alokasi=leftover*80/100;const danayangterkumpul=alokasi*targetWaktu;const danakurang=perkiraanBiaya-danayangterkumpul;let tbody=`<tr class="table_header">
        <th colspan="2">Rancangan Anggaran</th>
    </tr>
    <tr>
        <td>Rentang Bulan untuk Menabung</td>
        <td>${targetWaktu} Bulan</td>
    </tr>
    <tr>
        <td>Dana yang Dibutuhkan</td>
        <td>${numberFormatter(danadibutuhkan.toFixed(0),true,false,true)} / bulan</td>
    </tr>
    <tr>
        <td>Sisa Dana yang Ada</td>
        <td>${numberFormatter(leftover,true,false,true)} / bulan</td>
    </tr>
    <tr>
        <td>Dana yang Dapat Dialokasikan</td>
        <td>${numberFormatter(alokasi,true,false,true)} / bulan</td>
    </tr>
    `;let message='';if(alokasi<danadibutuhkan){tbody+=`<tr>
            <td>Dana yang Dapat Dikumpulkan</td>
            <td>${numberFormatter(danayangterkumpul,true,false,true)}</td>
        </tr>`;if(danakurang<=100000){message=`<p>Hore! Anda hampir mencapai target dana liburan Anda, hanya kurang sebesar ${numberFormatter(danakurang,true,false,true)}. Sedikit lagi, Anda pasti bisa! Berikut beberapa tips untuk membantu Anda mencapai target:</p>
            <ul>
                <li>Jangan menyerah, terus menabung dan Anda akan segera sampai di tujuan.</li>
                <li>Cari promosi atau diskon untuk destinasi dan kegiatan liburan Anda.</li>
                <li>Kurangi sedikit pengeluaran harian Anda, seperti makan di luar atau hiburan, dan alokasikan untuk tabungan liburan.</li>
            </ul>
            `}
if(danakurang>100000&&danakurang<=400000){message=`<p>Anda sudah berada di jalur yang tepat, hanya kurang sebesar ${numberFormatter(danakurang,true,false,true)} lagi untuk mencapai target dana liburan Anda. Berikut beberapa langkah yang dapat membantu Anda mencapai target tersebut:</p>
            <ul>
                <li>Pertimbangkan untuk menambah sedikit waktu menabung sebelum berangkat liburan.</li>
                <li>Teliti kembali rencana liburan Anda dan cari opsi yang lebih terjangkau untuk destinasi, transportasi, atau akomodasi.</li>
                <li>Perhatikan pengeluaran sehari-hari Anda dan alokasikan lebih banyak untuk tabungan liburan.</li>
            </ul>
            `}
if(danakurang>400000){message=`<p>Berdasarkan hasil perhitungan di atas, dana yang dapat dialokasikan untuk menabung masih kurang sebesar ${numberFormatter(danakurang,true,false,true)}. Berikut beberapa saran untuk membantu Anda mencapai target dana liburan:</p>
            <ul>
                <li>Pertimbangkan untuk menunda jadwal liburan Anda agar dana dapat terkumpul dengan cukup.</li>
                <li>Evaluasi kembali destinasi, moda transportasi, dan kegiatan selama liburan untuk mencari opsi yang lebih ekonomis.</li>
                <li>Kurangi pengeluaran Anda pada aspek lain agar bisa menyisihkan lebih banyak untuk tabungan liburan.</li>
            </ul>`}}else{message=`<p>Selamat! Berdasarkan perhitungan, Anda dapat mengumpulkan dana yang cukup untuk liburan Anda. Bahkan, Anda memiliki kelebihan dana sebesar ${numberFormatter(danakurang,true,false,true)}. Nikmati perencanaan liburan Anda dan pastikan untuk bersenang-senang!</p>`}
$('#table-ang-result tbody').append(tbody);$('#result-text-2').append(message)}
function drawTableRumah(){const hargaRumah=toNumber(div_nominal.val());var dp,sukuBunga,jangkaWaktu;let tingkatBungaBulanan;let message='';let adaHijau=!1;let availableAngsuran=[];if(!$('input[name="perhitunganType"]:checked').val())return!1;if(!hargaRumah||hargaRumah==0){$(optInputs.harga.name+'-err').removeClass('d-none');return!1}
if($('input[name="perhitunganType"]:checked').val()==='umum'){let tbody='';dp=[5,10,15,20];sukuBunga=6;tingkatBungaBulanan=sukuBunga/12/100;jangkaWaktu=[10,15,20,25,30];jangkaWaktu.forEach(val=>{let jumlahJangkaWaktu=val*12;dp.forEach((item,key)=>{let uangMuka=hargaRumah*item/100;let jumlahPokokPinjaman=hargaRumah-uangMuka;let angsuranBulanan=jumlahPokokPinjaman*(tingkatBungaBulanan*Math.pow(1+tingkatBungaBulanan,jumlahJangkaWaktu))/(Math.pow(1+tingkatBungaBulanan,jumlahJangkaWaktu)-1);let available='';if(globalResult.calc.leftover>=angsuranBulanan){available=`class="available"`
adaHijau=!0;availableAngsuran.push({tenor:val,dp1:item,dp2:uangMuka,angsuran:angsuranBulanan})}else{available=''}
tbody+=`<tr ${available}>`;if(key+1==1){tbody+=`<td class="first" rowspan="${dp.length}">${val}</td>`}
tbody+=`<td>${item}</td><td>${numberFormatter(uangMuka)}</td><td>${numberFormatter(angsuranBulanan.toFixed(0))}</td>`;tbody+=`</tr>`})})
$('#table-ang-result thead').append(`
        <tr>
            <th>Tenor</th>
            <th>DP (%)</th>
            <th>DP (Rp)</th>
            <th>Angsuran (Rp)</th>
        </tr>
        `);$('#table-ang-result tbody').append(tbody);$('#result-text-1').append(`<p>Berikut adalah gambaran umum perhitungan angsuran rumah berdasarkan berbagai pilihan tenor dan uang muka (DP). Pilihan yang diwarnai hijau menunjukkan opsi yang dapat diambil berdasarkan dana yang tersedia, di mana angsuran bulanan tidak melebihi kemampuan finansial Anda.</p><br>
        <p>Gunakan tabel ini sebagai panduan untuk mengevaluasi berbagai opsi angsuran rumah. Anda dapat mempertimbangkan pilihan yang sesuai dengan kebutuhan dan kemampuan finansial Anda. Pastikan untuk mempertimbangkan juga faktor-faktor lain seperti suku bunga, biaya tambahan, dan kondisi pasar properti sebelum membuat keputusan akhir.</p><br>
        <p>Jika Anda membutuhkan perhitungan yang lebih spesifik, silakan berikan data lebih rinci untuk mendapatkan estimasi yang lebih akurat.</p>`);if(!adaHijau){message+=`<p>Berdasarkan hasil perhitungan umum angsuran rumah, saat ini tidak ada pilihan angsuran yang sesuai dengan kemampuan finansial Anda. Ini berarti dana yang tersedia belum mencukupi untuk memenuhi angsuran bulanan untuk berbagai opsi tenor dan uang muka (DP) yang diberikan.</p>
            <br><p>Jangan khawatir, berikut adalah beberapa saran yang dapat membantu Anda mencapai tujuan memiliki rumah:</p>
            <ul>
                <li>Pertimbangkan untuk menambah jumlah uang muka (DP) agar angsuran bulanan menjadi lebih terjangkau.</li>
                <li>Evaluasi kembali anggaran bulanan Anda dan lihat apakah ada pengeluaran yang bisa dikurangi untuk meningkatkan kapasitas angsuran Anda.</li>
                <li>Cari alternatif rumah dengan harga yang lebih sesuai dengan kemampuan finansial Anda.</li>
                <li>Pertimbangkan untuk menunda pembelian rumah sementara waktu sambil menabung lebih banyak dana.</li>
            </ul>
            <p>Anda juga dapat mencoba memberikan data lebih spesifik untuk mendapatkan perhitungan yang lebih sesuai dengan situasi finansial Anda.</p>
            `}}else{dp=toNumber(div_dp.val());jangkaWaktu=toNumber(div_tenor.val());sukuBunga=toNumber(div_bunga.val());let dp_err,tenor_err,bunga_err;if(!dp||dp==0){$(optInputs.dp.name+'-err').removeClass('d-none');dp_err=!0}
if(!jangkaWaktu||jangkaWaktu==0){$(optInputs.tenor.name+'-err').removeClass('d-none');tenor_err=!0}
if(!sukuBunga||sukuBunga==0){$(optInputs.bunga.name+'-err').removeClass('d-none');bunga_err=!0}
if(dp_err||tenor_err||bunga_err)return!1;let uangMuka=hargaRumah*dp/100;let jumlahPokokPinjaman=hargaRumah-uangMuka;tingkatBungaBulanan=sukuBunga/12/100;let jumlahJangkaWaktu=jangkaWaktu*12;let angsuranBulanan=jumlahPokokPinjaman*(tingkatBungaBulanan*Math.pow(1+tingkatBungaBulanan,jumlahJangkaWaktu))/(Math.pow(1+tingkatBungaBulanan,jumlahJangkaWaktu)-1);$('#table-ang-result tbody').append(`
        <tr>
            <th>Tenor (Tahun)</th>
            <td>${jangkaWaktu} tahun</td>
        </tr>
        <tr>
            <th>Tenor (Bulan)</th>
            <td>${jumlahJangkaWaktu} bulan</td>
        </tr>
        <tr>
            <th>DP (%)</th>
            <td>${sukuBunga}%</td>
        </tr>
        <tr>
            <th>DP (Rp)</th>
            <td>${numberFormatter(uangMuka, true, false, true)}</td>
        </tr>
        <tr>
            <th>Angsuran Bulanan</th>
            <td>${numberFormatter(angsuranBulanan.toFixed(0), true, false, true)} / bulan</td>
        </tr>
        `);$('#result-text-1').append(`<p>Tabel Berikut menampilkan estimasi angsuran bulanan rumah berdasarkan data yang Anda berikan.</p>`);message+=`<p>Perhitungan ini didasarkan pada informasi yang Anda berikan mengenai tenor, uang muka, dan suku bunga. Angsuran bulanan yang ditunjukkan di atas adalah jumlah yang perlu Anda bayarkan setiap bulan selama jangka waktu tenor yang dipilih.</p>
        <p>Pastikan untuk memeriksa kembali anggaran bulanan Anda untuk memastikan bahwa angsuran ini dapat terpenuhi tanpa mengganggu kebutuhan finansial lainnya. Selain itu, pertimbangkan faktor-faktor tambahan seperti biaya asuransi, pajak properti, dan biaya pemeliharaan yang mungkin perlu dianggarkan.</p>`;if(globalResult.calc.leftover<angsuranBulanan.toFixed(0)){message+=`<br><p>Berdasarkan data yang Anda berikan, angsuran bulanan yang diperlukan untuk membeli rumah melebihi kemampuan finansial Anda saat ini. Berikut adalah beberapa saran untuk membantu Anda mencapai tujuan memiliki rumah:</p>
            <ul>
                <li>Pertimbangkan untuk menambah jumlah uang muka (DP) sehingga angsuran bulanan dapat berkurang dan menjadi lebih terjangkau.</li>
                <li>Evaluasi kembali anggaran bulanan Anda dan cari area di mana pengeluaran dapat dikurangi untuk meningkatkan kapasitas angsuran Anda.</li>
                <li>Cari alternatif rumah dengan harga yang lebih sesuai dengan kemampuan finansial Anda.</li>
                <li>Pertimbangkan untuk memperpanjang tenor pinjaman, meskipun ini bisa berarti total bunga yang lebih tinggi, namun angsuran bulanan akan lebih rendah.</li>
                <li>Menunda pembelian rumah sementara waktu sambil menabung lebih banyak dana untuk meningkatkan jumlah uang muka atau cadangan finansial Anda.</li>
            </ul>
            <p>Kami sarankan untuk mempertimbangkan langkah-langkah ini dan memeriksa kembali rencana keuangan Anda untuk menemukan solusi terbaik yang sesuai dengan situasi Anda. Jika Anda membutuhkan bantuan lebih lanjut atau ingin mencoba perhitungan lainnya, jangan ragu untuk menghubungi kami.</p>
            `}}
message+=`<br><h5>Catatan</h5>
    <ul>
        <li>Angsuran Bulanan dihitung berdasarkan suku bunga tahunan yang konstan selama masa tenor.</li>
        <li>Perhitungan ini belum termasuk biaya provisi dan administrasi yang dikarenakan tergantung pada kebijakan pemberi pinjaman</li>
        <li>Perhitungan ini hanya bersifat estimasi dan hasil akhir dapat berbeda tergantung pada kebijakan pemberi pinjaman dan perubahan suku bunga.</li>
        <li>Untuk informasi lebih lanjut dan penawaran yang lebih akurat, disarankan untuk menghubungi lembaga keuangan atau bank terkait.</li>
    </ul>`;$('#result-text-1').prepend(`<h3>Hasil Perhitungan Simulasi Angsuran Rumah</h3>`);$('#result-text-2').append(message)}
function drawTableKendaraan(){const harga=toNumber(div_nominal.val())||300000000;const wilayah=div_wilayah.val();const barubekas=div_barubekas.val();const asuransi=div_asuransi.val();var dp,sukuBunga,jangkaWaktu;let tingkatBungaBulanan,jumlahJangkaWaktu,uangMuka,jumlahPokokPinjaman,angsuranBulanan,biayaAsuransi,bayaranPertama;let message='',catatan='';var harga_err,wilayah_err,barubekas_err;if(!$('input[name="perhitunganType"]:checked').val())return;if(!harga||harga==0){$(optInputs.harga.name+'-err').removeClass('d-none');harga_err=!0}
if(!wilayah||wilayah==''){$(optInputs.wilayah.name+'-err').removeClass('d-none');wilayah_err=!0}
if(!barubekas||barubekas==''){$(optInputs.barubekas.name+'-err').removeClass('d-none');barubekas_err=!0}
if(harga_err||wilayah_err||barubekas_err)return!1;if(asuransi&&asuransi!=''){biayaAsuransi=hitungAsuransi(asuransi,wilayah,harga,barubekas)}else{biayaAsuransi=0}
if($('input[name="perhitunganType"]:checked').val()==='umum'){let tbody='',available='';jangkaWaktu=[1,2,3,4,5,6];if(barubekas=='1'){sukuBunga=6;dp=20}else if(barubekas=='2'){sukuBunga=9;dp=10}
tingkatBungaBulanan=sukuBunga/12/100;uangMuka=harga*dp/100;jumlahPokokPinjaman=harga-uangMuka;bayaranPertama=uangMuka+biayaAsuransi;jangkaWaktu.forEach(tahun=>{jumlahJangkaWaktu=tahun*12;angsuranBulanan=(jumlahPokokPinjaman*tingkatBungaBulanan)/(1-Math.pow(1+tingkatBungaBulanan,-jumlahJangkaWaktu));if(globalResult.calc.leftover>=angsuranBulanan){available=`class="available"`}
tbody+=`<tr ${available}><td>${tahun} thn</td><td>${numberFormatter(bayaranPertama.toFixed(0))}</td><td>${numberFormatter(angsuranBulanan.toFixed(0))}</td>`;if(biayaAsuransi!=0){tbody+=`<td>${numberFormatter(biayaAsuransi.toFixed(0))}</td>`}
tbody+=`</tr>`});let thead=`<tr>
            <th>Tenor</th>
            <th>DP (Rp)</th>
            <th>Angsuran (Rp)</th>`;if(biayaAsuransi!=0){thead+=`<th>Asuransi (Rp)</th>`}
thead+=`</tr>`;$('#table-ang-result thead').append(thead);$('#table-ang-result tbody').append(tbody);$('#result-text-1').append(`<p>Berikut adalah gambaran umum perhitungan angsuran mobil berdasarkan beberapa variabel, termasuk wilayah, kondisi mobil (baru atau bekas), dan jenis asuransi yang dipilih. Tabel ini akan membantu Anda melihat berbagai pilihan angsuran untuk berbagai kombinasi variabel tersebut.</p><br>
        <p>Silakan tinjau tabel di bawah ini untuk memahami pilihan angsuran yang mungkin sesuai dengan kebutuhan dan kemampuan finansial Anda.</p>`);message+=`<p>Pilihan yang tersedia dalam tabel di atas menunjukkan berbagai skenario berdasarkan kombinasi wilayah, kondisi mobil, dan jenis asuransi. Pilih opsi yang paling sesuai dengan kebutuhan Anda, dengan memperhatikan angsuran bulanan yang dapat Anda penuhi.</p>
        <p>Ingatlah untuk mempertimbangkan juga faktor-faktor lain seperti biaya pemeliharaan, bahan bakar, dan pajak kendaraan dalam perencanaan anggaran Anda. Jika Anda membutuhkan perhitungan yang lebih spesifik, silakan masukkan data yang lebih rinci untuk mendapatkan estimasi yang lebih akurat.</p>`;catatan+=`
        <li>Minimal DP untuk kondisi baru sebesar 20% dan kondisi bekas sebesar 10%</li>
        <li>Rata-rata suku bunga tahunan untuk kondisi baru sebesar 6% dan kondisi sebesar 9%</li>
        `}else{let tbody='';dp=toNumber(div_dp.val());jangkaWaktu=toNumber(div_tenor.val());sukuBunga=toNumber(div_bunga.val());let dp_err,tenor_err,bunga_err;if(!dp||dp==0){$(optInputs.dp.name+'-err').removeClass('d-none');dp_err=!0}
if(!jangkaWaktu||jangkaWaktu==0){$(optInputs.tenor.name+'-err').removeClass('d-none');tenor_err=!0}
if(!sukuBunga||sukuBunga==0){$(optInputs.bunga.name+'-err').removeClass('d-none');bunga_err=!0}
if(dp_err||tenor_err||bunga_err)return!1;tingkatBungaBulanan=sukuBunga/12/100;uangMuka=(harga*dp)/100;jumlahPokokPinjaman=harga-uangMuka;bayaranPertama=uangMuka+biayaAsuransi;jumlahJangkaWaktu=jangkaWaktu*12;angsuranBulanan=(jumlahPokokPinjaman*tingkatBungaBulanan)/(1-Math.pow(1+tingkatBungaBulanan,-jumlahJangkaWaktu));tbody+=`<tr>
            <th>Tenor (Tahun)</th>
            <td>${jangkaWaktu} tahun</td>
        </tr>
        <tr>
            <th>Tenor (Bulan)</th>
            <td>${jumlahJangkaWaktu} bulan</td>
        </tr>
        <tr>
            <th>DP (%)</th>
            <td>${sukuBunga}%</td>
        </tr>
        <tr>
            <th>Total Pembayaran Pertama</th>
            <td>${numberFormatter(bayaranPertama.toFixed(0), true, false, true)}</td>
        </tr>
        <tr>
            <th>Angsuran Bulanan</th>
            <td>${numberFormatter(angsuranBulanan.toFixed(0), true, false, true)} / bulan</td>
        </tr>`;if(biayaAsuransi!=0){tbody+=`<tr>
                <th>Biaya Asuransi</th>
                <td>${numberFormatter(angsuranBulanan.toFixed(0), true, false, true)} / tahun</td>
            </tr>`}
$('#table-ang-result tbody').append(tbody);$('#result-text-1').append(`<p>Berdasarkan data yang Anda berikan, berikut adalah perhitungan angsuran mobil spesifik untuk wilayah, kondisi mobil, dan jenis asuransi yang Anda pilih. Perhitungan ini memberikan gambaran yang lebih akurat mengenai angsuran bulanan yang perlu Anda bayarkan.</p>
        <p>Silakan tinjau tabel di bawah ini untuk melihat detail angsuran bulanan berdasarkan informasi yang Anda berikan.</p>`);message+=`<p>Perhitungan ini didasarkan pada informasi yang Anda berikan mengenai wilayah, kondisi mobil, dan jenis asuransi. Angsuran bulanan yang ditunjukkan di atas adalah jumlah yang perlu Anda bayarkan setiap bulan selama jangka waktu tenor yang dipilih.</p>
        <p>Pastikan untuk memeriksa kembali anggaran bulanan Anda untuk memastikan bahwa angsuran ini dapat terpenuhi tanpa mengganggu kebutuhan finansial lainnya. Selain itu, pertimbangkan faktor-faktor tambahan seperti biaya pemeliharaan, bahan bakar, dan pajak kendaraan dalam perencanaan anggaran Anda.</p>`}
if(globalResult.calc.leftover<angsuranBulanan.toFixed(0)){message+=`<br><p>Berdasarkan hasil perhitungan umum angsuran mobil, saat ini tidak ada pilihan angsuran yang sesuai dengan kemampuan finansial Anda. Ini berarti dana yang tersedia belum mencukupi untuk memenuhi angsuran bulanan untuk berbagai kombinasi wilayah, kondisi mobil, dan jenis asuransi yang dipertimbangkan.</p>
        <br><p>Jangan khawatir, berikut adalah beberapa saran yang dapat membantu Anda mencapai tujuan memiliki mobil:</p>
        <ul>
            <li>Pertimbangkan untuk menambah jumlah uang muka (DP) sehingga angsuran bulanan dapat berkurang dan menjadi lebih terjangkau.</li>
            <li>Evaluasi kembali anggaran bulanan Anda dan cari area di mana pengeluaran dapat dikurangi untuk meningkatkan kapasitas angsuran Anda.</li>
            <li>Cari alternatif mobil dengan harga yang lebih sesuai dengan kemampuan finansial Anda, mungkin dengan mempertimbangkan opsi mobil bekas yang berkualitas.</li>
            <li>Pertimbangkan untuk memperpanjang tenor pinjaman, meskipun ini bisa berarti total bunga yang lebih tinggi, namun angsuran bulanan akan lebih rendah.</li>
            <li>Menunda pembelian mobil sementara waktu sambil menabung lebih banyak dana untuk meningkatkan jumlah uang muka atau cadangan finansial Anda.</li>
        </ul>
        <p>Kami sarankan untuk mempertimbangkan langkah-langkah ini dan memeriksa kembali rencana keuangan Anda untuk menemukan solusi terbaik yang sesuai dengan situasi Anda. Jika Anda membutuhkan bantuan lebih lanjut atau ingin mencoba perhitungan lainnya, jangan ragu untuk menghubungi kami.</p>
        `}
message+=`<br><h5>Catatan</h5>
    <ul>
        ${catatan}
        <li>Perhitungan di atas menggunakan bunga konstan dan belum termasuk biaya provisi, fidusia, dan administrasi yang dapat bervariasi tergantung peminjam.</li>
        <li>Estimasi ini bersifat indikatif dan mungkin berbeda dengan penawaran akhir dari lembaga keuangan.</li>
        <li>Untuk informasi lebih lanjut dan detail yang lebih akurat, silakan hubungi pihak terkait atau lembaga keuangan yang bersangkutan.</li>
    </ul>`;$('#result-text-1').prepend(`<h3>Hasil Perhitungan Simulasi Angsuran Mobil</h3>`);$('#result-text-2').append(message)}
function drawTableElektronik(){const harga=toNumber(div_nominal.val());const dp=toNumber(div_dp.val());const jangkaWaktu=toNumber(div_tenor.val());const sukuBunga=toNumber(div_bunga.val());let tingkatBungaBulanan,jumlahJangkaWaktu,uangMuka,jumlahPokokPinjaman,angsuranBulanan;let message='',tbody='';var harga_err,dp_err,tenor_err,bunga_err;if(!harga||harga==0){$(optInputs.harga.name+'-err').removeClass('d-none');harga_err=!0}
if(!dp||dp==0){$(optInputs.dp.name+'-err').removeClass('d-none');dp_err=!0}
if(!jangkaWaktu||jangkaWaktu==0){$(optInputs.tenor.name+'-err').removeClass('d-none');tenor_err=!0}
if(!sukuBunga||sukuBunga==0){$(optInputs.bunga.name+'-err').removeClass('d-none');bunga_err=!0}
if(harga_err||dp_err||tenor_err||bunga_err)return!1;tingkatBungaBulanan=sukuBunga/12/100;uangMuka=(harga*dp)/100;jumlahPokokPinjaman=harga-uangMuka;jumlahJangkaWaktu=jangkaWaktu*12;angsuranBulanan=(jumlahPokokPinjaman*tingkatBungaBulanan)/(1-Math.pow(1+tingkatBungaBulanan,-jumlahJangkaWaktu));tbody+=`<tr class="table_header">
        <th colspan="2">Rancangan Anggaran</th>
    </tr>
    <tr>
        <th>Rentang Waktu (Tahun)</th>
        <td>${jangkaWaktu} tahun</td>
    </tr>
    <tr>
        <th>Rentang Waktu (Bulan)</th>
        <td>${jumlahJangkaWaktu} bulan</td>
    </tr>
    <tr>
        <th>DP (%)</th>
        <td>${sukuBunga}%</td>
    </tr>
    <tr>
        <th>DP (Rp)</th>
        <td>${numberFormatter(uangMuka.toFixed(0), true, false, true)}</td>
    </tr>
    <tr>
        <th>Angsuran Bulanan</th>
        <td>${numberFormatter(angsuranBulanan.toFixed(0), true, false, true)} / bulan</td>
    </tr>`;$('#table-ang-result tbody').append(tbody);if(globalResult.calc.leftover<angsuranBulanan.toFixed(0)){message+=`<p>Berdasarkan hasil simulasi di atas, cicilan bulanan Anda sebesar ${numberFormatter(angsuranBulanan.toFixed(0), true, false, true)} masih lebih besar dari sisa dana yang tersedia sebesar ${numberFormatter(globalResult.calc.leftover.toFixed(0), true, false, true)}. Dengan demikian, saat ini dana yang Anda miliki tidak mencukupi untuk melanjutkan rencana angsuran ini.</p>`;message+=`<p>Anda mungkin perlu mempertimbangkan beberapa opsi berikut:</p>
        <ul>
            <li>Mengurangi Pengeluaran Bulanan: Cari cara untuk mengurangi pengeluaran bulanan Anda sehingga sisa dana yang tersedia meningkat.</li>
            <li>Meningkatkan Penghasilan: Pertimbangkan untuk meningkatkan penghasilan Anda melalui pekerjaan tambahan atau sumber pendapatan lain.</li>
            <li>Uang Muka yang Lebih Besar: Menabung lebih lama untuk memberikan uang muka yang lebih besar, sehingga jumlah pembiayaan yang harus diangsur berkurang.</li>
            <li>Tenor Angsuran yang Lebih Panjang: Memilih tenor angsuran yang lebih panjang untuk mengurangi cicilan bulanan, meskipun ini mungkin berarti membayar lebih banyak bunga secara keseluruhan.</li>
        </ul>`}else{message+=`<p>Berdasarkan hasil simulasi di atas, cicilan bulanan Anda sebesar ${numberFormatter(angsuranBulanan.toFixed(0), true, false, true)} masih lebih kecil dari sisa dana yang tersedia sebesar ${numberFormatter(globalResult.calc.leftover.toFixed(0), true, false, true)}. Dengan demikian, Anda memiliki kemampuan finansial yang cukup untuk melanjutkan rencana angsuran ini. Pastikan Anda selalu mempertimbangkan pengeluaran tidak terduga yang mungkin muncul di masa depan.</p>`}
message+=`<br><p>Lakukan simulasi ulang setelah melakukan perubahan pada kondisi keuangan Anda atau data input yang diberikan untuk memastikan kelayakan pembayaran angsuran.</p>`;message+=`<br><h5>Catatan</h5>
    <ul>
        <li>Perhitungan di atas menggunakan bunga konstan dan belum termasuk biaya administrasi dan lainnya yang dapat bervariasi tergantung peminjam.</li>
        <li>Estimasi ini bersifat indikatif dan mungkin berbeda dengan penawaran akhir dari lembaga keuangan.</li>
        <li>Untuk informasi lebih lanjut dan detail yang lebih akurat, silakan hubungi pihak terkait atau lembaga keuangan yang bersangkutan.</li>
    </ul>`;$('#result-text-1').append(`<p>Berdasarkan data yang Anda berikan, berikut adalah hasil simulasi perhitungan angsuran untuk pembelian benda elektronik. Mohon periksa kembali apakah data yang dimasukkan sudah sesuai dengan kondisi keuangan Anda.</p>`);$('#result-text-2').append(message)}
function drawTableInvestasi(){const investType=div_investasi.val();if(investType=='1'){simulasiEmas()}else if(investType=='2'){simulasiReksadana()}else if(investType=='3'){simulasiDeposito()}}
async function simulasiEmas(){const leftover=globalResult.calc.leftover;const skenario={'optimis (+10%)':0.10,'pesimis (-5%)':-0.05,'stabil':0.00};const jangkaWaktu=5;let harga_emas=getDataSession('harga_emas')
let jumlah_emas;let hasil_simulasi={};if(!harga_emas){try{harga_emas=await fetchHargaEmas();savedToSession('harga_emas',harga_emas)}catch(error){console.error('Failed to fetch harga emas:',error);return!1}}
jumlah_emas=(leftover/harga_emas.data[0].sell).toFixed(1);let harga_beli=jumlah_emas*harga_emas.data[0].sell;if(jumlah_emas>=1){Object.entries(skenario).forEach(([key,value])=>{let proyeksi_harga_emas=harga_emas.data[0].buy*((1+value)**jangkaWaktu);let nilai_investasi_masa_depan=jumlah_emas*proyeksi_harga_emas;let hitung_keuntungan_kerugian=nilai_investasi_masa_depan-harga_beli;hasil_simulasi[key]={"harga_emas_masa_depan":proyeksi_harga_emas,"nilai_investasi":nilai_investasi_masa_depan,"harga_beli":harga_beli,"keuntungan_kerugian":hitung_keuntungan_kerugian}})}
$('#result-text-1').append(`<p>Berikut adalah hasil perhitungan kami dengan asumsi bahwa Anda berinvestasi dalam jangka waktu 5 tahun. Data berikut menunjukkan harga emas saat ini, jumlah emas yang dapat Anda beli dengan dana yang tersedia, dan total nilai investasi awal Anda.</p>`);$('#table-ang-result tbody').append(`
        <tr>
            <th style="width: 60%">Jangka Waktu Investasi</th>
            <td>${jangkaWaktu} tahun</td>
        </tr>
        <tr>
            <th>Harga Beli Emas Saat Ini</th>
            <td>${numberFormatter(harga_emas.data[0].sell, true, false, true)} /gram</td>
        </tr>
        <tr>
            <th>Harga Jual Emas Saat Ini</th>
            <td>${numberFormatter(harga_emas.data[0].buy, true, false, true)} /gram</td>
        </tr>
        <tr>
            <th>Jumlah Emas yang Dapat di Beli</th>
            <td>${jumlah_emas} gram</td>
        </tr>
        <tr>
            <th>Harga Emas yang Dapat di Beli</th>
            <td>${numberFormatter(harga_beli.toFixed(0), true, false, true)}</td>
        </tr>
    `);let html_after=`<p>Tabel di atas menunjukkan bahwa dengan dana yang tersedia, Anda dapat membeli sekitar ${jumlah_emas} gram emas pada harga beli saat ini sebesar ${numberFormatter(harga_emas.data[0].sell, true, false, true)} per gram. Total investasi awal Anda adalah ${numberFormatter(harga_beli.toFixed(0), true, false, true)}. 
    Informasi ini akan menjadi dasar untuk skenario proyeksi nilai investasi Anda di masa depan, yang akan dijelaskan lebih lanjut dalam simulasi berikutnya.</p><br>
    <p>Untuk memberikan gambaran lebih lanjut tentang potensi keuntungan atau kerugian investasi emas Anda, kami telah membuat beberapa skenario berdasarkan asumsi perubahan harga emas di masa depan. Tabel di bawah ini menunjukkan proyeksi harga emas di masa depan, nilai investasi Anda, serta potensi keuntungan atau kerugian yang mungkin Anda alami berdasarkan tiga skenario: optimis, pesimis, dan stabil.</p>`;let table_skenario=`<div class="table-overflow margin-top-lg margin-bottom-lg"><table><thead>
        <tr>
            <th>Skenario</th>
            <th>Harga Emas di Masa Depan</th>
            <th>Nilai Investasi</th>
            <th>Harga Emas yang di Beli</th>
            <th>Keuntungan / Kerugian</th>
        </tr></thead><tbody>`;Object.entries(hasil_simulasi).forEach(([key,value])=>{table_skenario+=`<tr>
            <td>${key}</td>
        `;Object.entries(value).forEach(items=>{let sign='';if(items[0]=='keuntungan_kerugian'){if(items[1]>0){sign='+'}else{sign='-'}}
table_skenario+=`<td>${sign + numberFormatter(items[1].toFixed(0))}</td>`})
table_skenario+=`</tr>`})
table_skenario+=`</tbody></table></div>
    <p>Dari tabel di atas, dapat dilihat bahwa dalam skenario optimis, di mana harga emas naik 10% per tahun, nilai investasi Anda di masa depan bisa mencapai ${numberFormatter(hasil_simulasi['optimis (+10%)']['nilai_investasi'].toFixed(0), true, false, true)} dengan potensi keuntungan sebesar ${numberFormatter(hasil_simulasi['optimis (+10%)']['keuntungan_kerugian'].toFixed(0), true, false, true)}. 
    Sebaliknya, dalam skenario pesimis di mana harga emas turun 5% per tahun, nilai investasi Anda bisa turun menjadi ${numberFormatter(hasil_simulasi['pesimis (-5%)']['nilai_investasi'].toFixed(0), true, false, true)}, menghasilkan kerugian sebesar ${numberFormatter(hasil_simulasi['pesimis (-5%)']['keuntungan_kerugian'].toFixed(0), true, false, true)}. 
    Skenario stabil, di mana harga emas tidak berubah, menunjukkan nilai investasi Anda sebesar ${numberFormatter(hasil_simulasi['stabil']['nilai_investasi'].toFixed(0), true, false, true)} dengan kerugian sebesar ${numberFormatter(hasil_simulasi['stabil']['keuntungan_kerugian'].toFixed(0), true, false, true)}. Informasi ini membantu Anda memahami berbagai kemungkinan yang dapat terjadi pada investasi emas Anda berdasarkan perubahan harga di masa depan.</p>`;let message=`<br><h5>Catatan</h5>
    <ul>
        <li>Data harga beli dan jual emas terkini yang digunakan dalam simulasi ini diperoleh dari situs <a href="https://harga-emas.org/" target="_blank" class="link">Harga-Emas.org</a></li>
        <li>Perhitungan ini hanya bertujuan untuk memberikan gambaran kasar mengenai potensi investasi emas Anda. Hasil simulasi dapat berubah seiring waktu berdasarkan fluktuasi pasar dan kondisi ekonomi.</li>
        <li>Skenario prediksi yang digunakan dalam simulasi ini adalah asumsi semata dan tidak didasarkan pada data konkrit atau analisis prediktif yang mendalam. Perubahan harga emas di masa depan dapat dipengaruhi oleh berbagai faktor yang tidak dapat diprediksi secara pasti.</li>
        <li>Investasi dalam emas, seperti investasi lainnya, memiliki risiko yang perlu dipertimbangkan. Harga emas dapat berfluktuasi dan nilai investasi Anda dapat naik atau turun.</li>
        <li>Sebelum mengambil keputusan investasi, disarankan untuk berkonsultasi dengan ahli keuangan atau perencana investasi untuk mendapatkan nasihat yang lebih komprehensif dan sesuai dengan kebutuhan serta tujuan keuangan Anda.</li>
    </ul>
    `;$('#result-text-2').append(html_after+table_skenario+message)}
function simulasiReksadana(){const leftover=globalResult.calc.leftover;const jangkaWaktu=div_tenor.val();const dana=toNumber(div_nominal.val());const metode=div_rkdn_metode.val();const profilRisiko={1:{nama:'Reksadana Saham',tingkat:'Tinggi',return:[15,20],message:'15% hingga 20%. Perlu diingat bahwa tingkat risiko yang tinggi dapat memberikan potensi pengembalian yang besar, namun juga datang dengan kemungkinan fluktuasi nilai investasi yang lebih signifikan. Oleh karena itu, penting untuk mempertimbangkan profil risiko Anda sebelum memutuskan untuk berinvestasi dalam reksa dana saham.',},2:{nama:'Reksadana Campuran',tingkat:'Sedang/Menengah',return:[10,12],message:'10% hingga 12%. Tingkat risiko sedang atau menengah menawarkan keseimbangan antara potensi pengembalian dan risiko. Ini cocok bagi investor yang menginginkan pertumbuhan nilai investasi dengan risiko yang lebih terkendali dibandingkan reksa dana saham.',},3:{nama:'Reksadana Pendapatan Tetap',tingkat:'Rendah dan Sedang',return:[7,9],message:'7% hingga 9%. Tingkat risiko rendah dan sedang cocok untuk investor yang mencari stabilitas dan pendapatan tetap, namun dengan potensi pengembalian yang lebih rendah dibandingkan reksa dana saham atau campuran.',},4:{nama:'Reksadana Pasar Uang',tingkat:'Rendah',return:[4.5,5.5],message:'4,5% hingga 5,5%. Reksadana pasar uang memiliki tingkat risiko yang rendah dan cocok untuk investor yang mencari keamanan dan likuiditas tinggi, meskipun dengan potensi pengembalian yang lebih rendah.',},};const risiko=div_rkdn_risiko.val();const totalDana=dana*jangkaWaktu;let bungaTahunan=profilRisiko[risiko].return;let targetInvestasi;var dana_err,tenor_err;let tbody='';if(!dana||dana==0){$(optInputs.harga.name+'-err').removeClass('d-none');dana_err=!0}
if(!jangkaWaktu||jangkaWaktu==0){$(optInputs.tenor.name+'-err').removeClass('d-none');tenor_err=!0}
if(dana_err||tenor_err)return!1;if(metode=='1'){let investasi;targetInvestasi=[];bungaTahunan.forEach(bunga=>{investasi=dana*Math.pow(1+(bunga/100),jangkaWaktu);targetInvestasi.push(investasi)});tbody+=`<tr>
            <th style="width: 40%">Investasi Awal</th>
            <td>${numberFormatter(dana, true, false, true)}</td>
        </tr>
        <tr>
            <th>Jangka Waktu Investasi</th>
            <td>${jangkaWaktu} tahun</td>
        </tr>
        `}else{let investasi;targetInvestasi=[];let bungaBulanan;bungaTahunan.forEach((bunga)=>{bungaBulanan=bunga/12/100;investasi=dana*(Math.pow((1+bungaBulanan),jangkaWaktu)-1)/bungaBulanan;targetInvestasi.push(investasi)});tbody+=`<tr>
            <th style="width: 40%">Dana Investasi</th>
            <td>${numberFormatter(dana, true, false, true)} / bulan</td>
        </tr>
        <tr>
            <th>Total Investasi</th>
            <td>${numberFormatter(totalDana, true, false, true)}</td>
        </tr>
        <tr>
            <th>Jangka Waktu Investasi</th>
            <td>${jangkaWaktu} bulan atau ${(jangkaWaktu / 12).toFixed(0)} tahun</td>
        </tr>`}
tbody+=`<tr>
        <th>Tingkat Risiko</th>
        <td>${profilRisiko[risiko].tingkat}</td>
    </tr>
    <tr>
        <th>Return per Tahun</th>
        <td>${bungaTahunan[0] + '% ~ ' + bungaTahunan[1] + '%'}</td>
    </tr>
    <tr>
        <th>Nilai Investasi</th>
        <td>${numberFormatter(targetInvestasi[0].toFixed(0), true, false, true) + ' ~ ' + numberFormatter(targetInvestasi[1].toFixed(0), true, false, true)}</td>
    </tr>`;if(metode=='2'){tbody+=`<tr>
        <th>Keuntungan Bersih</th>
            <td>${numberFormatter((totalDana - targetInvestasi[0]).toFixed(0), true, false, true) + ' ~ ' + numberFormatter((totalDana - targetInvestasi[1]).toFixed(0), true, false, true)}</td>
        </tr>`}
$('#result-text-1').append(`Berikut adalah hasil simulasi investasi reksa dana berdasarkan parameter yang Anda masukkan. Simulasi ini memberikan gambaran tentang potensi nilai masa depan dari investasi Anda, baik dengan metode investasi lump sum (sekali bayar) maupun metode investasi berkala (bulanan).`);$('#table-ang-result tbody').append(tbody);let message=`<p>Hasil simulasi di atas memberikan gambaran mengenai potensi nilai investasi Anda setelah ${jangkaWaktu} ${metode == '1' ? 'tahun' : 'bulan'} dengan asumsi tingkat pengembalian tahunan antara ${profilRisiko[risiko].message}</p>`;message+=`<br><h5>Catatan</h5>
    <ul>
        <li>Perhitungan ini didasarkan pada asumsi tingkat pengembalian tahunan yang tetap dan tidak memperhitungkan biaya-biaya lain seperti biaya manajemen dan pajak.</li>
        <li>Estimasi diatas bersifat indikatif dan tidak menjamin hasil yang akan datang. Selalu disarankan untuk berkonsultasi dengan penasihat keuangan sebelum membuat keputusan investasi.</li>
    </ul>
    `;$('#result-text-2').append(message)}
function simulasiDeposito(){const deposito=toNumber(div_nominal.val());const leftover=globalResult.calc.leftover;const sukuBunga=toNumber(div_bunga.val());const tarifPajak=20;const jatuhTempo=toNumber(div_tenor.val());let hariPenyimpanan,depositoAwal;let tbody='',tabel_asumsi='',html_before='',table_skenario='';let message='';let nominal_err,tenor_err,bunga_err;if(!deposito||deposito==0){$(optInputs.harga.name+'-err').removeClass('d-none');nominal_err=!0}
if(!jatuhTempo||jatuhTempo==0){$(optInputs.tenor.name+'-err').removeClass('d-none');tenor_err=!0}
if(!sukuBunga||sukuBunga==0){$(optInputs.bunga.name+'-err').removeClass('d-none');bunga_err=!0}
if(nominal_err||tenor_err||bunga_err)return!1;if(jatuhTempo%12==0){hariPenyimpanan=365*(jatuhTempo/12)}else{hariPenyimpanan=jatuhTempo*30}
if($('input[name="customNominal"]:checked').val()==='umum'&&leftover<5000000){if(leftover<=1000000){html_before+=`<p>Berdasarkan data pendapatan dan pengeluaran Anda sebelumnya, dengan dana yang tersedia saat ini sebesar ${numberFormatter(globalResult.calc.leftover.toFixed(0), true, false, true)} disarankan untuk menunda keinginan memulai investasi deposito. Kami memahami bahwa memulai investasi deposito membutuhkan jumlah dana tertentu, dan kami di sini untuk membantu Anda memberikan gambaran terhadap hal teresebut.
            Walaupun begitu Anda masih dapat untuk menabung terlebih dahulu hingga jumlah minimum yang diperlukan.</p>`}else{html_before+=`<p>Dengan sisa dana Anda yang tersedia saat ini sebesar ${numberFormatter(globalResult.calc.leftover.toFixed(0), true, false, true)}, kami menyarankan Anda untuk menabung terlebih dahulu hingga mencapai jumlah minimum yang diperlukan.</p>`}
tabel_asumsi+=`<table class="margin-top-lg margin-bottom-lg"><thead>
            <tr style="background-color: #f2f2f2;">
                <th>Minimal Deposit</th>
                <th>Waktu Tabung</th>
            </tr>
        </thead><tbody>`;let minDepo=[5000000,10000000];let minimalDepositRow='<div class="table-overflow margin-top-lg margin-bottom-lg"><table><tbody><tr><th>Minimal Deposit Awal</th>';let bungaRow='<tr><th>Bunga</th>';let waktuRow='<tr><th>Tenor (jatuh tempo)</th>';let pajakRow='<tr><th>Pajak Deposito (20%)</th>';let pengembalianRow='<tr><th>Pengembalian Deposito</th>';minDepo.forEach(depo=>{depositoAwal=depo;let butuhWaktu=Math.ceil(depo/leftover);tabel_asumsi+=`<tr>
                <td>${numberFormatter(depo, true, false, true)}</td>
                <td>${butuhWaktu + ' bulan'}</td>
            </tr>`;let keuntunganBunga=((sukuBunga/100)*depositoAwal*hariPenyimpanan)/365;let pajakDeposito=0;if(depositoAwal>=7500000){pajakDeposito=(tarifPajak/100)*keuntunganBunga}
let investasiAkhir=depositoAwal+(keuntunganBunga.toFixed(0)-pajakDeposito.toFixed(0));minimalDepositRow+=`<td>${numberFormatter(depo, true, false, true)}</td>`;waktuRow+=`<td>${butuhWaktu} bulan</td>`;bungaRow+=`<td>${numberFormatter(keuntunganBunga.toFixed(0), true, false, true)}</td>`;pajakRow+=`<td>${pajakDeposito != 0 ? numberFormatter(pajakDeposito.toFixed(0), true, false, true) : 'Rp0'}</td>`;pengembalianRow+=`<td>${numberFormatter(investasiAkhir, true, false, true)}</td>`});minimalDepositRow+='</tr>';waktuRow+='</tr>';bungaRow+='</tr>';pajakRow+='</tr>';pengembalianRow+='</tr></tbody></table></div>';table_skenario+=minimalDepositRow+=waktuRow+=bungaRow+=pajakRow+=pengembalianRow;tabel_asumsi+=`</tbody></table>
        <p>Pada umunya, besar setoran minimal deposito berkisar Rp5.000.000 atau Rp10.000.000 teragantung kebijakan masing-masing bank.
        Dari tabel di atas, Anda dapat melihat waktu yang dibutuhkan untuk menabung hingga mencapai jumlah minimal deposito yang ditentukan.</p><br>
        <p>Selanjutnya, berikut adalah proyeksi investasi untuk dua skenario jumlah minimal deposito yang berbeda. Simulasi ini akan memberikan Anda gambaran tentang potensi keuntungan yang bisa Anda peroleh.</p>`}else{depositoAwal=parseInt(deposito);let keuntunganBunga=((sukuBunga/100)*depositoAwal*hariPenyimpanan)/365;let pajakDeposito=0;if(depositoAwal>=7500000){pajakDeposito=(tarifPajak/100)*keuntunganBunga}
let investasiAkhir=depositoAwal+(keuntunganBunga.toFixed(0)-pajakDeposito.toFixed(0));html_before+=`<p>Berdasarkan informasi yang Anda berikan, berikut adalah proyeksi nilai investasi Deposito Anda.</p>`;tbody+=`
        <tr>
            <th>Deposit Awal</th>
            <td>${numberFormatter(depositoAwal, true, false, true)}</td>
        </tr>
        <tr>
            <th>Tenor (jatuh tempo)</th>
            <td>${jatuhTempo}</td>
        </tr>
        <tr>
            <th>Bunga</th>
            <td>${numberFormatter(keuntunganBunga.toFixed(0), true, false, true)}</td>
        </tr>
        <tr>
            <th>Pajak Deposito (20%)</th>
            <td>${pajakDeposito != 0 ? numberFormatter(pajakDeposito.toFixed(0), true, false, true) : 'Rp0'}</td>
        </tr>
        <tr>
            <th>Pengembalian Deposito</th>
            <td>${numberFormatter(investasiAkhir, true, false, true)}</td>
        </tr>
        `;let butuhWaktu=Math.ceil(depositoAwal/leftover);message+=`<p>Dari hasil simulasi ini, Anda dapat melihat bahwa nilai akhir dari investasi deposito Anda setelah jangka waktu yang dipilih adalah ${numberFormatter(investasiAkhir, true, false, true)}.</p>`;if(leftover<5000000){message+=`<p>Namun perlu diperhatikan bahwa dengan asumsi dana yang dapat dialokasikan sebesar ${numberFormatter(leftover, true, false, true)} dari sisa dana sebesar ${numberFormatter(globalResult.calc.leftover.toFixed(0), true, false, true)} untuk investasi deposito ini anda perlu menabung selama ${butuhWaktu} bulan untuk mencapai ${numberFormatter(depositoAwal, true, false, true)} terlebih dahulu sebelum dapat mendepositokan uang Anda kepada bank.</p>`}}
$('#result-text-1').append(html_before+tabel_asumsi);$('#table-ang-result tbody').append(tbody);message+=`<br><h5>Catatan</h5>
    <ul>
        <li>Hasil simulasi ini merupakan perkiraan dan dapat berbeda dengan hasil sebenarnya yang Anda peroleh dari bank.</li>
        <li>Suku bunga dan kebijakan bank dapat berubah sewaktu-waktu, yang akan mempengaruhi hasil investasi Anda.</li>
        <li>Tarif pajak bunga deposito sebesar 20% ini berlaku bagi deposito dengan nominal sama dengan atau lebih dari Rp7.500.000 (tujuh juta lima ratus ribu rupiah).</li>
        <li>Untuk informasi lebih lanjut dan konfirmasi mengenai suku bunga serta kebijakan terbaru, silakan menghubungi pihak bank terkait atau lihat <a target="_blank" class="link" href="https://www.pajakku.com/read/602f179e5bddc138006e3269/Perhitungan-PPh-Bunga-Deposito-dan-Tabungan">Perhitungan PPh Bunga Deposito dan Tabungan</a>.</li>
    </ul>`;$('#result-text-2').append(table_skenario+message)}
$('input[name="perhitunganType"][value="umum"], input[name="customNominal"][value="umum"]').prop('checked',!0);$('.box-filter').on('change','input[name="perhitunganType"]',function(){if(this.value==='kustom'){renderInput(optInputs.tenor,optInputs.dp,optInputs.bunga)}else{hideInput(optInputs.tenor,optInputs.dp,optInputs.bunga)}});$('.box-filter').on('change','input[name="customNominal"]',function(){if(this.value==='kustom'){div_nominal.removeAttr('disabled').val('')}else{div_nominal.attr('disabled',!0).val(numberFormatter(globalResult.calc.leftover))}});$('.box-filter').on('change',optInputs.investasi.name,function(){$('#ang-info').addClass('d-none').find('p').html('');div_nominal.removeAttr('disabled').val('');hideInput(optInputs.tenor,optInputs.harga,optInputs.rkdn_metode,optInputs.rkdn_risiko,optInputs.customNominal,optInputs.bunga);resetText();if(!this.value){}else if(this.value==='1'){}else if(this.value==='2'){div_tenor.closest('.col-6').find('label').html('Jangka Waktu');div_nominal.closest('.col-6').find('label').html('Dana Investasi');renderInput(optInputs.tenor,optInputs.harga,optInputs.rkdn_metode,optInputs.rkdn_risiko)}else if(this.value==='3'){div_tenor.closest('.col-6').find('.icons').html('bulan');div_nominal.attr('disabled',!0).val(numberFormatter(globalResult.calc.leftover));renderInput(optInputs.harga,optInputs.tenor,optInputs.bunga,optInputs.customNominal)}else{$('#ang-info').removeClass('d-none').find('p').html('Mohon Maaf, Masih dalam Pengembangan')}});$('.box-filter').on('input',optInputs.harga.name,function(){$(this).val(numberFormatter($(this).val()))
if(!$(optInputs.harga.name+'-err').hasClass('d-none')){$(optInputs.harga.name+'-err').addClass('d-none')}});$('.box-filter').on('input',optInputs.tenor.name,function(){$(this).val(numberFormatter($(this).val(),!1))
if(!$(optInputs.tenor.name+'-err').hasClass('d-none')){$(optInputs.tenor.name+'-err').addClass('d-none')}});$('.box-filter').on('input',optInputs.dp.name,function(){$(this).val(numberFormatter($(this).val(),!1,!0))
if(!$(optInputs.dp.name+'-err').hasClass('d-none')){$(optInputs.dp.name+'-err').addClass('d-none')}});$('.box-filter').on('input',optInputs.bunga.name,function(){$(this).val(numberFormatter($(this).val(),!1,!0))
if(!$(optInputs.bunga.name+'-err').hasClass('d-none')){$(optInputs.bunga.name+'-err').addClass('d-none')}});$('.box-filter').on('change',optInputs.tanggal.name,function(){if(!$(optInputs.tanggal.name+'-err').hasClass('d-none')){$(optInputs.tanggal.name+'-err').addClass('d-none')}});$('.box-filter').on('change',optInputs.wilayah.name,function(){if(!$(optInputs.wilayah.name+'-err').hasClass('d-none')){$(optInputs.wilayah.name+'-err').addClass('d-none')}});$('.box-filter').on('change',optInputs.barubekas.name,function(){if(!$(optInputs.barubekas.name+'-err').hasClass('d-none')){$(optInputs.barubekas.name+'-err').addClass('d-none')}});$('.box-filter').on('change',optInputs.asuransi.name,function(){if(!$(optInputs.asuransi.name+'-err').hasClass('d-none')){$(optInputs.asuransi.name+'-err').addClass('d-none')}});$('.box-filter').on('change',optInputs.rkdn_metode.name,function(){let parent_tenor=div_tenor.closest('.col-6');if(this.value=='2'){parent_tenor.find('.icons').html('bulan');div_nominal.val(numberFormatter(globalResult.calc.leftover))}else{div_nominal.val('');parent_tenor.find('.icons').html('tahun')}});function getMonthDiff(dateString){var currentDate=new Date();var yearMonthArray=dateString.split("-");var year=parseInt(yearMonthArray[0]);var month=parseInt(yearMonthArray[1])-1;var firstDate=new Date(year,month);if(firstDate>=currentDate){var monthsDifference=(currentDate.getFullYear()-firstDate.getFullYear())*12+currentDate.getMonth()-firstDate.getMonth();return Math.abs(monthsDifference)}else{return!1}}
function renderInput(...args){args.forEach(item=>{let parent=item.elem.closest('[class^="col-"]');parent.removeClass('d-none')})}
function hideInput(...args){args.forEach(item=>{let parent=item.elem.closest('[class^="col-"]');parent.addClass('d-none')})}
function hideAllInputs(){Object.entries(optInputs).forEach(([key,value])=>{let parent=value.elem.closest('[class^="col-"]');parent.addClass('d-none')})}
function resetText(){let parent_tenor=div_tenor.closest('.col-6');let parent_nominal=div_nominal.closest('.col-6');parent_tenor.find('label').html('Tenor');parent_tenor.find('.icons').html('tahun');parent_nominal.find('label').html('Nominal')}
function hitungAsuransi(jenis,wilayah,harga,barubekas){let persen;let biayaAsuransi;let persen_jenis1;let persen_jenis2;if(jenis==1){if(harga>0&&harga<=125000000){if(wilayah==1)persen=3.82;if(wilayah==2)persen=3.26;if(wilayah==3)persen=2.53}
if(harga>125000000&&harga<=200000000){if(wilayah==1)persen=2.67;if(wilayah==2)persen=2.47;if(wilayah==3)persen=2.69}
if(harga>200000000&&harga<=400000000){if(wilayah==1)persen=2.18;if(wilayah==2)persen=2.08;if(wilayah==3)persen=1.79}
if(harga>400000000&&harga<=800000000){if(wilayah==1)persen=1.2;if(wilayah==2)persen=1.2;if(wilayah==3)persen=1.14}
if(harga>800000000){if(wilayah==1)persen=1.05;if(wilayah==2)persen=1.05;if(wilayah==3)persen=1.05}
biayaAsuransi=(harga*persen)/100;if(barubekas==2){biayaAsuransi=biayaAsuransi+(harga*1.15)/100}}
if(jenis==2){if(harga>0&&harga<=125000000){if(wilayah==1)persen=0.47;if(wilayah==2)persen=0.65;if(wilayah==3)persen=0.51}
if(harga>125000000&&harga<=200000000){if(wilayah==1)persen=0.63;if(wilayah==2)persen=0.44;if(wilayah==3)persen=0.44}
if(harga>200000000&&harga<=400000000){if(wilayah==1)persen=0.41;if(wilayah==2)persen=0.38;if(wilayah==3)persen=0.29}
if(harga>400000000&&harga<=800000000){if(wilayah==1)persen=0.25;if(wilayah==2)persen=0.25;if(wilayah==3)persen=0.23}
if(harga>800000000){if(wilayah==1)persen=0.2;if(wilayah==2)persen=0.2;if(wilayah==3)persen=0.2}
biayaAsuransi=(harga*persen)/100;if(barubekas==2){biayaAsuransi=biayaAsuransi+(harga*1.15)/100}}
if(jenis==3){if(harga>0&&harga<=125000000){if(wilayah==1)(persen_jenis1=3.82),(persen_jenis2=0.47);if(wilayah==2)(persen_jenis1=3.26),(persen_jenis2=0.65);if(wilayah==3)(persen_jenis1=2.53),(persen_jenis2=0.51);}
if(harga>125000000&&harga<=200000000){if(wilayah==1)(persen_jenis1=2.67),(persen_jenis2=0.63);if(wilayah==2)(persen_jenis1=2.47),(persen_jenis2=0.44);if(wilayah==3)(persen_jenis1=2.69),(persen_jenis2=0.44);}
if(harga>200000000&&harga<=400000000){if(wilayah==1)(persen_jenis1=2.18),(persen_jenis2=0.41);if(wilayah==2)(persen_jenis1=2.08),(persen_jenis2=0.38);if(wilayah==3)(persen_jenis1=1.79),(persen_jenis2=0.29);}
if(harga>400000000&&harga<=800000000){if(wilayah==1)(persen_jenis1=1.2),(persen_jenis2=0.2);if(wilayah==2)(persen_jenis1=1.2),(persen_jenis2=0.2);if(wilayah==3)(persen_jenis1=1.14),(persen_jenis2=0.2);}
biayaAsuransi=(harga*persen_jenis1)/100+(harga*persen_jenis2)/100;if(barubekas==2){biayaAsuransi=biayaAsuransi+(harga*2.23)/100}}
return biayaAsuransi}
async function fetchHargaEmas(){return new Promise((resolve,reject)=>{$.ajax({type:"GET",url:"https://logam-mulia-api.vercel.app/prices/hargaemas-org",dataType:"json",success:function(response){resolve(response)},error:function(error){reject(error)}})})}
function determineAmount(leftover){if(leftover<500000){return 0}else if(leftover<1000000){return 500000}else if(leftover>1500000&&leftover<2000000){return 1000000}else{return Math.floor(leftover/500000)*500000}}